/* existing vars etc kept */
:root{
  --bg:#0f1720; --card:rgba(10,12,14,0.90); --accent:#d0b47b; --muted:#9aa3ad; --danger:#c84b4b;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;background:var(--bg);color:#e8eef2}
#particles-js{position:fixed;inset:0;z-index:0;pointer-events:none;}
.topbar{position:relative;z-index:3;display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:rgba(3,6,10,0.72);box-shadow: 0 6px 18px rgba(0,0,0,0.6);backdrop-filter: blur(6px)}
.brand-left{display:flex;align-items:center;gap:10px}
.logo{width:36px;height:36px;border-radius:6px}
.brand-title{font-weight:700;color:var(--accent)}
.brand-right{display:flex;gap:8px;align-items:center}
.app{position:relative;z-index:2;display:flex;gap:16px;padding:18px;height:calc(100vh - 84px)}
.sidebar{width:240px;padding:12px;border-radius:8px;background:rgba(0,0,0,0.25);align-self:flex-start}
.carousel .dot.active{background:var(--accent);box-shadow:0 0 8px rgba(208,180,123,0.25)}

/* editor overlay slightly more opaque for clarity */
.editor-overlay{background:var(--card);padding:16px;border-radius:8px;backdrop-filter: blur(4px);min-height:60vh;overflow:auto}

/* preview styles */
.preview-card{
  display:flex;
  gap:12px;
  align-items:flex-start;
  margin-top:12px;
  padding:10px;
  border-radius:8px;
  background:#111315; /* dark embed background */
  border:1px solid rgba(255,255,255,0.03);
  max-width:520px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6);
  position:relative;
}
.preview-card img{max-width:100%;display:block}
.preview-card .stripe{width:6px;flex:0 0 6px;border-radius:6px 0 0 6px;background:#ff6b2f}
.preview-content{flex:1;min-width:0;padding-left:6px}
.preview-header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;position:relative}
.preview-header-left{min-width:0}
.preview-title{font-weight:700;color:#fff;margin-bottom:6px;font-size:15px}
.preview-desc{color:#cfd8dc;font-size:13px;line-height:1.2;margin-bottom:6px}
.preview-thumbnail{
  width:64px;height:64px;border-radius:50%;object-fit:cover;margin-left:12px;flex:0 0 64px;
}
.preview-image{width:100%;border-radius:6px;margin-top:8px;display:block;height:110px;object-fit:cover}
.preview-fields-wrap{display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;margin-top:8px}
.preview-field{background:transparent;padding:6px;border-radius:6px;min-width:100%;box-sizing:border-box}
.preview-field.inline{min-width:160px;flex:0 0 auto;background:rgba(255,255,255,0.02)}
.preview-field-name{font-weight:700;color:#fff;font-size:13px}
.preview-field-value{color:#dfe6ea;font-size:13px;margin-top:6px}
.preview-buttons-row{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
.preview-button{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:6px;border:0;background:rgba(255,255,255,0.04);color:#fff;cursor:pointer}
.preview-button-icon{width:18px;height:18px;border-radius:4px;object-fit:cover}
.preview-button-ext{opacity:0.8;margin-left:6px;font-size:12px}
.preview-plain-message{margin-top:12px;padding:8px;background:transparent;border-radius:6px;color:#dfe6ea}
.preview-footer-row{display:flex;align-items:center;gap:8px;margin-top:12px}
.preview-footer-icon-left{width:20px;height:20px;border-radius:4px;object-fit:cover}
.preview-footer-text{font-size:12px;color:#9aa3ad}

/* fields grid */
.preview-fields-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px;margin-top:8px}
.preview-field-box{padding:8px;background:rgba(255,255,255,0.02);border-radius:6px}
.preview-field-name{font-weight:600}
.preview-field-value{margin-top:6px;color:#e8eef2}

/* buttons */
.preview-buttons-row{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
.preview-button{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:6px;border:0;background:rgba(255,255,255,0.04);color:#fff;cursor:pointer}
.preview-button-icon{width:18px;height:18px;border-radius:4px;object-fit:cover}

/* plain message & footer */
.preview-plain-message{margin-top:12px;padding:8px;background:rgba(255,255,255,0.02);border-radius:6px}
.preview-footer-text{margin-top:12px;font-size:12px;color:var(--muted)}

/* remove float fallback usage */
.preview-thumbnail{float:none;display:inline-block}

/* modal (generic) */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:30}
.modal.hidden{display:none}
.modal-inner{background:#0b0d0f;padding:18px;border-radius:8px;width:640px;max-width:95%}
.modal-inner.code-modal{position:relative;padding-top:28px;width:760px;max-width:95%}
.modal-inner h3{margin-top:0}
.modal-actions{display:flex;gap:8px;margin-top:12px;align-items:center}
.close-x{
  position:absolute;
  right:14px;
  top:8px;
  background:var(--accent);
  color:#071019;
  border-radius:6px;
  padding:6px 8px;
  font-size:16px;
  border:0;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(208,180,123,0.12);
  z-index:40;
}

/* code block */
pre{background:#071019;padding:12px;border-radius:6px;overflow:auto;max-height:50vh}
pre code{white-space:pre-wrap;word-break:break-word;color:#dbeafe}

/* small utilities */
.btn{background:rgba(255,255,255,0.06);border:0;color:#fff;padding:8px 10px;border-radius:6px;margin:4px;cursor:pointer}
.btn.muted{background:transparent;color:var(--muted)}
.trash-btn{background:transparent;border:0;color:var(--danger);cursor:pointer;font-size:18px;padding:6px}
.small{width:110px}
.checkbox{display:flex;align-items:center;gap:6px}
.muted{color:var(--muted)}
.footer{padding:12px;text-align:center;color:var(--muted);position:relative;z-index:4}

/* Inputs + textarea styling so they are not bright white and size correctly */
.input{
  width:100%;
  padding:8px;
  margin:6px 0;
  border-radius:6px;
  border:0;
  background:rgba(255,255,255,0.03);
  color:#e8eef2;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.015);
  outline: none;
}
.input:focus{
  box-shadow: 0 0 0 3px rgba(208,180,123,0.06);
}

/* make description and plain message stretch full width */
.textarea{
  width:100%;
  min-height:140px;
  padding:8px;
  margin:6px 0;
  border-radius:6px;
  border:0;
  background:rgba(255,255,255,0.03);
  color:#e8eef2;
  resize:vertical;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.015);
}

/* layout improvements so inputs don't overflow and spacing is consistent */
.row{display:flex;gap:8px;flex-wrap:wrap;align-items:flex-start}
.input:not(.color){flex:1 1 220px;min-width:0}
.input.color{flex:0 0 160px;max-width:160px}
.color-picker{flex:0 0 40px;height:36px;border-radius:6px;border:0;padding:0;cursor:pointer;background:transparent}

/* ensure the plain message block is full width and visually matches description */
.block .textarea{min-height:120px}

/* keep buttons and other small elements looking consistent */
.btn{background:rgba(255,255,255,0.06);border:0;color:#fff;padding:8px 10px;border-radius:6px;margin:4px;cursor:pointer}
.muted{color:var(--muted)}

/* make the JSON modal close X very visible and highlighted inside the code area */
.json-modal-highlight { position:relative; }